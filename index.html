<!doctype html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />

  <!-- PWA & Favicons -->
  <link rel="icon" type="image/svg+xml" href="/pwa-icon.svg" />
  <link rel="apple-touch-icon" href="/masked-icon.svg" />
  <link rel="mask-icon" href="/masked-icon.svg" color="#667eea" />
  <meta name="theme-color" content="#0f172a" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Force no-cache to prevent stale JS/CSS -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- Preconnect to Google Fonts for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Google Fonts - Premium Typography -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet">

  <!-- SEO Meta Tags -->
  <meta name="description"
    content="ImmoDash - Dashboard professionnel de gestion immobilière. Gérez vos biens, visites et analytics en temps réel." />
  <meta name="keywords" content="immobilier, dashboard, gestion, propriétés, visites, analytics" />
  <meta name="author" content="Kassio Wilfried YOBONOU" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ImmoDash - Dashboard Immobilier Professionnel" />
  <meta property="og:description"
    content="Gérez vos biens immobiliers efficacement avec ImmoDash. Suivi en temps réel, analytics avancées, gestion des visites." />
  <meta property="og:site_name" content="ImmoDash" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ImmoDash - Dashboard Immobilier" />
  <meta name="twitter:description" content="Dashboard professionnel de gestion immobilière" />

  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-Frame-Options" content="DENY" />

  <title>ImmoDash - Dashboard Immobilier</title>

  <style>
    /* Loading indicator shown before React mounts */
    #root-loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #0f172a;
      color: #f8fafc;
      font-family: 'Inter', -apple-system, sans-serif;
      gap: 1rem;
    }

    #root-loading .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(102, 126, 234, 0.2);
      border-top-color: #667eea;
      border-radius: 50%;
      animation: rootspin 0.8s linear infinite;
    }

    #root-loading p {
      font-size: 0.875rem;
      color: #cbd5e1;
    }

    @keyframes rootspin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>
  <div id="root">
    <!-- This content is shown while React loads; React replaces it on mount -->
    <div id="root-loading">
      <div class="spinner"></div>
      <p>Chargement d'ImmoDash...</p>
    </div>
  </div>
  <script type="module" src="/src/main.jsx"></script>
  <script>
    // Diagnostic: if React hasn't mounted after 10 seconds, show a message
    setTimeout(function () {
      var loading = document.getElementById('root-loading');
      if (loading) {
        loading.innerHTML = '<div style="text-align:center;padding:2rem;">' +
          '<p style="font-size:1.25rem;margin-bottom:1rem;">⚠️ L\'application met du temps à charger</p>' +
          '<p style="font-size:0.875rem;color:#94a3b8;margin-bottom:1rem;">Vérifiez la console du navigateur (F12) pour les erreurs.</p>' +
          '<button onclick="location.reload()" style="padding:0.75rem 1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:8px;cursor:pointer;font-size:0.875rem;font-weight:600;">Recharger la page</button>' +
          '</div>';
      }
    }, 10000);
  </script>
</body>

</html>